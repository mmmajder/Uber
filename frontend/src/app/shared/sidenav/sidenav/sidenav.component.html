<mat-toolbar class="navbar">
  <span>
    <img class="logo" src="assets/logo.png" alt="logo"/>
  </span>
  <span class="example-spacer"></span>
  <button mat-button *ngIf="user.role==='CUSTOMER'" (click)="addTokens()">
    <span class="number-of-tokens">{{numberOfTokens | number:'1.2-2' }} </span>
    <mat-icon class="token">monetization_on</mat-icon>
  </button>
  <button *ngIf="user.role==='CUSTOMER'" mat-icon-button [matMenuTriggerFor]="notificationMenu" (click)="hideBadge()">
    <mat-icon matBadge="!" matBadgeColor="warn" [matBadgeHidden]="notificationBadgeHidden">notifications</mat-icon>
  </button>
  <button *ngIf="user.role==='CUSTOMER'" mat-icon-button [matMenuTriggerFor]="menu">
    <mat-icon>help</mat-icon>
  </button>
  <p *ngIf="user.role==='DRIVER'" class="name">You have been working for <b>{{workingHours}}</b> in last 24h.</p>
  <mat-slide-toggle
    *ngIf="user.role==='DRIVER'"
    color="primary"
    style="margin-bottom: 5px; margin-left: 10px"
    [(ngModel)]="driverActive" (click)="toggleDriverActivity()">
    <p *ngIf="user.role==='DRIVER'" class="name" style="margin-top: 20px">Activity</p>
  </mat-slide-toggle>
  <img [src]="profilePictureSrc" class="avatar" style="margin-left: 20px; margin-right: 10px;" alt="avatar"/>
  <p class="name" (click)="navigate('/profile')">{{user.name}} {{user.surname}}</p>
</mat-toolbar>

<div class="sidebar" [ngClass]="{ 'active': isActive }">
  <div class="logo_content">
    <i class="bx bx-menu" (click)="toggle()" id="menu-btn"></i>
  </div>
  <ul>
    <li *ngIf="user.role === 'CUSTOMER'">
      <a (click)="navigate('/dashboard')" [ngClass]="{ 'currentPage': currentPage === 'dashboard' }">
        <mat-icon>dashboard</mat-icon>
        <span class="links_name">Dashboard</span>
      </a>
      <span class="tooltip">Dashboard</span>
    </li>
    <li *ngIf="user.role === 'ADMIN'">
      <a (click)="navigate('/users')" [ngClass]="{ 'currentPage': currentPage === 'users' }">
        <mat-icon>groups</mat-icon>
        <span class="links_name">Users</span>
      </a>
      <span class="tooltip">Users</span>
    </li>
    <li>
      <a (click)="navigate('/map')" [ngClass]="{ 'currentPage': currentPage === 'map' }">
        <mat-icon>location_pin</mat-icon>
        <span class="links_name">Map</span>
      </a>
      <span class="tooltip">Map</span>
    </li>
    <li>
      <a (click)="navigate('/analytics')" [ngClass]="{ 'currentPage': currentPage === 'analytics' }">
        <mat-icon>query_stats</mat-icon>
        <span class="links_name">Analytics</span>
      </a>
      <span class="tooltip">Analytics</span>
    </li>
    <li>
      <a (click)="navigate('/profile')" [ngClass]="{ 'currentPage': currentPage === 'profile' }">
        <mat-icon>person</mat-icon>
        <span class="links_name">My Profile</span>
      </a>
      <span class="tooltip">My Profile</span>
    </li>
    <li *ngIf="user.role === 'ADMIN'">
      <a (click)="navigate('/chat')" [ngClass]="{ 'currentPage': currentPage === 'chat' }">
        <mat-icon>message</mat-icon>
        <span class="links_name">Messages</span>
      </a>
      <span class="tooltip">Messages</span>
    </li>
    <li>
      <a (click)="navigate('/rides')" [ngClass]="{ 'currentPage': currentPage === 'rides' }">
        <mat-icon>directions_car</mat-icon>
        <span class="links_name">Rides History</span>
      </a>
      <span class="tooltip">Rides History</span>
    </li>
    <li>
      <a (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span class="links_name">Log out</span>
      </a>
      <span class="tooltip">Log out</span>
    </li>
  </ul>
</div>

<mat-menu #menu="matMenu">
  <app-user-chat></app-user-chat>
</mat-menu>
<mat-menu #notificationMenu="matMenu">
  <app-notifications [notifications]="notificationsCustomer"></app-notifications>
</mat-menu>

