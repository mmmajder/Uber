<app-navbar currentPage="chat"></app-navbar>
<div class="container" style="margin-top: 20px">
  <div class="row">
    <div class="col-md-4">
      <mat-card>
        <h4>Messages</h4>
        <app-list-of-chats [chats]="chats" (chatEventEmitter)="openSelectedChat($event)"></app-list-of-chats>
      </mat-card>
    </div>
    <div class="col-md-8">
      <mat-card>
        <mat-card-header>
          <div mat-card-avatar style="background-image: url({{openChatProfilePicture}}); background-size: cover"></div>
          <mat-card-title>{{clientName}}</mat-card-title>
          <mat-card-subtitle>{{clientEmail}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <app-chat [loggedUser]="loggedUser" [messages]="messagesWithClient"></app-chat>
          <app-new-message [loggedUser]="loggedUser" [messages]="messagesWithClient" [clientEmail]="clientEmail"
                           (onNewMessageSent)="putCurrentChatAsFirst($event)"></app-new-message>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
